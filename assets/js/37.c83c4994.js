(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{621:function(s,t,a){s.exports=a.p+"assets/img/performance001.33441be2.png"},732:function(s,t,a){"use strict";a.r(t);var n=a(13),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"简述前端性能优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简述前端性能优化"}},[s._v("#")]),s._v(" 简述前端性能优化")]),s._v(" "),n("p",[n("img",{attrs:{src:a(621),alt:"img"}}),s._v("\n前端性能优化主要是为了提高页面的加载速度，优化用户的访问体验。可以从这些方面来进行优化：")]),s._v(" "),n("h3",{attrs:{id:"第一个方面是页面的内容方面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一个方面是页面的内容方面"}},[s._v("#")]),s._v(" 第一个方面是页面的内容方面")]),s._v(" "),n("ul",[n("li",[s._v("将小图片合并成一个大图，css 雪碧图、使用 base64 等方式来减少 HTTP 请求数，避免过多的请求造成等待的情况，可以使用svg、iconfont代替图片。")]),s._v(" "),n("li",[s._v("通过 DNS 缓存（预解析）等机制来减少 DNS 的查询次数。")]),s._v(" "),n("li",[s._v("通过设置浏览器缓存策略，对常用不变的资源进行缓存，缓存一切可缓存资源。")]),s._v(" "),n("li",[s._v("使用延迟加载的方式，来减少页面首屏加载时需要请求的资源。延迟加载的资源当用户需要访问时，再去请求加载。")]),s._v(" "),n("li",[s._v("通过用户行为，对某些资源使用预加载的方式，来提高用户需要访问资源时的响应速度。")]),s._v(" "),n("li",[s._v("资源懒加载、按需加载资源")])]),s._v(" "),n("h3",{attrs:{id:"第二个方面是服务器方面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第二个方面是服务器方面"}},[s._v("#")]),s._v(" 第二个方面是服务器方面")]),s._v(" "),n("ul",[n("li",[s._v("使用 CDN 服务，来提高用户对于资源请求时的响应速度（在云服务器上配置CDN）。")]),s._v(" "),n("li",[s._v("服务器端启用 Gzip、Deflate 等方式对于传输的资源进行压缩，减小文件的体积。deflate是一种压缩算法，可以实现无损数据压缩，GZIP是基于deflate实现的另一个压缩库。")]),s._v(" "),n("li",[s._v("尽可能减小 cookie 的大小，并且通过将静态资源分配到其他域名下，来避免对静态资源请求时携带不必要的 cookie 。")])]),s._v(" "),n("h3",{attrs:{id:"第三个方面是-css-和-javascript-方面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第三个方面是-css-和-javascript-方面"}},[s._v("#")]),s._v(" 第三个方面是 CSS 和 JavaScript 方面")]),s._v(" "),n("ul",[n("li",[s._v("把样式表放在页面的 head 标签中，减少页面的首次渲染的时间。")]),s._v(" "),n("li",[s._v("避免使用 @import标签。")]),s._v(" "),n("li",[s._v("尽量把 js 脚本放在页面底部或者使用 defer 或 async 属性，避免脚本的加载和执行阻塞页面的渲染。")]),s._v(" "),n("li",[s._v("通过对 JavaScript 和 CSS 的文件进行压缩，来减小文件的体积。")]),s._v(" "),n("li",[s._v("脚本优化：减少重回和回流操作")]),s._v(" "),n("li",[s._v("使用事件委托，避免批量绑定事件")]),s._v(" "),n("li",[s._v("适当使用防抖和节流函数减少性能消耗")])]),s._v(" "),n("p",[s._v("项目性能优化")]),s._v(" "),n("ol",[n("li",[s._v("编码优化\n编码优化，指的就是 在代码编写时的，通过一些 最佳实践，提升代码的执行性能。通常这并不会带来非常大的收益，但这属于 程序猿的自我修养，而且这也是面试中经常被问到的一个方面，考察自我管理与细节的处理。")])]),s._v(" "),n("p",[s._v("数据读取:")]),s._v(" "),n("p",[s._v("通过作用域链 / 原型链 读取变量或方法时，需要更多的耗时，且越长越慢；\n对象嵌套越深，读取值也越慢；\n最佳实践:")]),s._v(" "),n("p",[s._v("尽量在局部作用域中进行 变量缓存；\n避免嵌套过深的数据结构，数据扁平化 有利于数据的读取和维护；")]),s._v(" "),n("p",[s._v("循环: 循环通常是编码性能的关键点；")]),s._v(" "),n("p",[s._v("代码的性能问题会再循环中被指数倍放大；\n最佳实践:")]),s._v(" "),n("p",[s._v("尽可能 减少循环次数；")]),s._v(" "),n("p",[s._v("减少遍历的数据量；\n完成目的后马上结束循环；")]),s._v(" "),n("p",[s._v("避免在循环中执行大量的运算，避免重复计算，相同的执行结果应该使用缓存；\njs 中使用 倒序循环 会略微提升性能；\n尽量避免使用 for-in 循环，因为它会枚举原型对象，耗时大于普通循环；")]),s._v(" "),n("p",[s._v("条件流程性能: Map / Object > switch > if-else")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 if-else")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 switch")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("switch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 Map")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" map "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 Objext")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nobj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br")])]),n("p",[s._v("减少 cookie 体积: 能有效减少每次请求的体积和响应时间；")]),s._v(" "),n("p",[s._v("去除不必要的 cookie；\n压缩 cookie 大小；\n设置 domain 与 过期时间；")]),s._v(" "),n("p",[s._v("dom 优化:")]),s._v(" "),n("p",[s._v("减少访问 dom 的次数，如需多次，将 dom 缓存于变量中；\n减少重绘与回流:")]),s._v(" "),n("p",[s._v("多次操作合并为一次；\n减少对计算属性的访问；")]),s._v(" "),n("p",[s._v("例如 offsetTop， getComputedStyle 等\n因为浏览器需要获取最新准确的值，因此必须立即进行重排，这样会破坏了浏览器的队列整合，尽量将值进行缓存使用；")]),s._v(" "),n("p",[s._v("大量操作时，可将 dom 脱离文档流或者隐藏，待操作完成后再重新恢复；\n使用DocumentFragment / cloneNode / replaceChild进行操作；")]),s._v(" "),n("p",[s._v("使用事件委托，避免大量的事件绑定；")]),s._v(" "),n("p",[s._v("css 优化:")]),s._v(" "),n("p",[s._v("层级扁平，避免过于多层级的选择器嵌套；\n特定的选择器 好过一层一层查找:  .xxx-child-text{} 优于 .xxx .child .text{}\n减少使用通配符与属性选择器；\n减少不必要的多余属性；\n使用 动画属性 实现动画，动画时脱离文档流，开启硬件加速，优先使用 css 动画；\n使用 "),n("link"),s._v(" 替代原生 @import；")]),s._v(" "),n("p",[s._v("html 优化:")]),s._v(" "),n("p",[s._v("减少 dom 数量，避免不必要的节点或嵌套；\n避免"),n("img",{attrs:{src:""}}),s._v("空标签，能减少服务器压力，因为 src 为空时，浏览器仍然会发起请求")]),s._v(" "),n("p",[s._v("IE 向页面所在的目录发送请求；\nSafari、Chrome、Firefox 向页面本身发送请求；\nOpera 不执行任何操作。")]),s._v(" "),n("p",[s._v("图片提前 指定宽高 或者 脱离文档流，能有效减少因图片加载导致的页面回流；\n语义化标签 有利于 SEO 与浏览器的解析时间；\n减少使用 table 进行布局，避免使用"),n("br"),s._v("与")]),n("hr"),s._v("；"),n("p"),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("页面基础优化")])]),s._v(" "),n("p",[s._v("引入位置: css 文件")]),n("head",[s._v("中引入， js 文件"),n("body",[s._v("底部引入；"),n("p"),s._v(" "),n("p",[s._v("影响首屏的，优先级很高的 js 也可以头部引入，甚至内联；")]),s._v(" "),n("p",[s._v("减少请求 (http 1.0 - 1.1)，合并请求，正确设置 http 缓存；\n减少文件体积:")]),s._v(" "),n("p",[s._v("删除多余代码:")]),s._v(" "),n("p",[s._v("tree-shaking\nUglifyJs\ncode-spliting")]),s._v(" "),n("p",[s._v("混淆 / 压缩代码，开启 gzip 压缩；\n多份编译文件按条件引入:")]),s._v(" "),n("p",[s._v("针对现代浏览器直接给 ES6 文件，只针对低端浏览器引用编译后的 ES5 文件；\n可以利用"),n("script",{attrs:{type:"module"}})])])])])}),[],!1,null,null,null);t.default=e.exports}}]);